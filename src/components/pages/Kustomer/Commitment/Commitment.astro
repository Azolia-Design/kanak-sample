---
import { getByUID, getAllByType } from "@/prismic";
import "./Commitment.scss"
import KustomerCommitHead from './CommitmentHead';
import KustomerCommitMain from './CommitmentMain';

const listCommit = await getAllByType("commitment");
let newList = [];
Astro.props.list.map((el) => {
    listCommit.forEach((item) => {
        item.uid == el && newList.push(item);
    });
});
---
<section class="kustomer-commit">
    <div class="container grid">
        <KustomerCommitHead {...Astro.props} client:visible={{ rootMargin: "100% 0px 100% 0px" }} />
        <KustomerCommitMain list={newList} client:visible={{ rootMargin: "100% 0px 100% 0px" }} />
    </div>
</section>
