---
const { title, brand_list } = Astro.props;

import {getByUID} from '@/prismic.js';
import { Image } from 'astro:assets';
import arrIconDesk from '@assets/arr-ext-21.svg';
import arrIconMob from '@assets/arrow-small.svg';
import HomeBrand from './Brand';

let replaceWord = title.split(',')[title.split(',').length - 1]
let newTitle = title.replace(replaceWord, `<div class="txt-green">${replaceWord}</div>`)

const list = await Promise.all(
    brand_list.map(async (brand: any) => {
        let item = getByUID('brand', brand.item.uid)
        return item
    })
)
---

<HomeBrand list={list} client:idle>
    <Fragment set:html={newTitle} slot="title"/>
    <Image src={arrIconDesk} alt='' slot='arrIconDesk'/>
    <Image src={arrIconMob} alt='' slot='arrIconMob'/>
</HomeBrand>





