---
import { getAllByType } from "@/prismic.js";

import ResourceMain from "./Main";

import arrIcon from "@assets/arr-right.svg?raw";
import icArrowDown from "@assets/ic-arr-down.svg?raw";
import icDropdown from "@assets/ic-arrow-down.svg?raw";

const data = await getAllByType("resource");

const featureList = data.filter(({ data }) => data.show_on_feature).slice(0, 5);
const popularList = data.filter(({ data }) => data.show_on_popular).slice(0, 4);
---

<ResourceMain
  featureList={featureList}
  popularList={popularList}
  allList={data}
  client:load
>
  <Fragment set:html={arrIcon} slot="arrIcon" />
  <Fragment set:html={icArrowDown} slot="icArrowDown" />
  <Fragment set:html={icDropdown} slot="icDropDown" />
</ResourceMain>
