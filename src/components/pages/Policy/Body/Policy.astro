---
import { richText } from "node_modules/@prismicio/helpers/dist/isFilled";
import PolicyMain from "./PolicyMain.jsx";

const richTextContent = {
    sections: [
        { type: "h2", content: "Preamble" },
        {
            type: "paragraph",
            content:
                "This page informs you of our policies regarding the collection, use and disclosure of Personal Information when you use our Service. We will not use or share your information with anyone except as described in this Privacy Policy.",
        },
        {
            type: "paragraph",
            content:
                "We use your Personal Information for providing and improving the Service. By using the Service, you agree to the collection and use of information in accordance with this policy.",
        },
        { type: "h2", content: "DEFINITIONS AND KEY TERMS" },
        {
            type: "paragraph",
            content:
                "To help explain things as clearly as possible in this Privacy Policy, every time any of these terms are referenced, are strictly defined as:",
        },
        {
            type: "ul",
            content: [
                {
                    type: "li",
                    content:
                        "Cookie: small amount of data generated by a website and saved by your web browser. It is used to identify your browser, provide analytics, remember information about you such as your language preference or login information.",
                },
                {
                    type: "li",
                    content:
                        "Company: when this policy mentions “Company,” “we,” “us,” or “our,” it refers to Kanak Naturals, that is responsible for your information under this Privacy Policy.",
                },
                {
                    type: "li",
                    content:
                        "Country: where Kanak Naturals or the owners/founders of Depo Studio are based, in this case is America",
                },
                {
                    type: "li",
                    content:
                        "Customer: refers to the company, organization or person that signs up to use the Kanak Naturals Service to manage the relationships with your consumers or service users.",
                },
                {
                    type: "li",
                    content:
                        "Device: any internet connected device such as a phone, tablet, computer or any other device that can be used to visit Kanak Naturals and use the services.",
                },
                {
                    type: "li",
                    content:
                        "IP address: Every device connected to the Internet is assigned a number known as an Internet protocol (IP) address. These numbers are usually assigned in geographic blocks. An IP address can often be used to identify the location from which a device is connecting to the Internet.",
                },
                {
                    type: "li",
                    content:
                        "Personnel: refers to those individuals who are employed by Kanak Naturals or are under contract to perform a service on behalf of one of the parties.",
                },
                {
                    type: "li",
                    content:
                        "Personal Data: any information that directly, indirectly, or in connection with other information — including a personal identification number — allows for the identification or identifiability of a natural person.",
                },
                {
                    type: "li",
                    content:
                        "Service: refers to the service provided by Kanak Naturals as described in the relative terms (if available) and on this platform.",
                },
                {
                    type: "li",
                    content:
                        "Third-party service: refers to advertisers, contest sponsors, promotional and marketing partners, and others who provide our content or whose products or services we think may interest you.",
                },
            ],
        },
        { type: "h2", content: "Information Collection And Use" },
        {
            type: "paragraph",
            content:
                "While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. Personally identifiable information may include, but is not limited to, your email address, name, phone number, postal address, other information (“Personal Information”).",
        },
        {
            type: "paragraph",
            content:
                "We collect this information for the purpose of providing the Service, identifying and communicating with you, responding to your requests/inquiries, servicing your purchase orders, and improving our services.",
        },
        { type: "h2", content: "Log Data" },
        {
            type: "paragraph",
            content:
                "We may also collect information that your browser sends whenever you visit our Service (“Log Data”). This Log Data may include information such as your computer's Internet Protocol (“IP”) address, browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages and other statistics.",
        },
        {
            type: "paragraph",
            content:
                "In addition, we may use third party services such as Google Analytics that collect, monitor and analyse this type of information in order to increase our Service's functionality. These third party service providers have their own privacy policies addressing how they use such information.",
        },
        { type: "h2", content: "Cookies" },
        {
            type: "paragraph",
            content:
                "Cookies are files with a small amount of data, which may include an anonymous unique identifier. Cookies are sent to your browser from a web site and transferred to your device. We use cookies to collect information in order to improve our services for you.",
        },
        { type: "h2", content: "Service Providers" },
        {
            type: "paragraph",
            content:
                "We may employ third party companies and individuals to facilitate our Service, to provide the Service on our behalf, to perform Service-related services and/or to assist us in analysing how our Service is used.",
        },
        {
            type: "paragraph",
            content:
                "These third parties have access to your Personal Information only to perform specific tasks on our behalf and are obligated not to disclose or use your information for any other purpose.",
        },
        { type: "h2", content: "Security" },
        {
            type: "paragraph",
            content:
                "The security of your Personal Information is important to us, and we strive to implement and maintain reasonable, commercially acceptable security procedures and practices appropriate to the nature of the information we store, in order to protect it from unauthorised access, destruction, use, modification, or disclosure.",
        },
        {
            type: "paragraph",
            content:
                "However, please be aware that no method of transmission over the internet, or method of electronic storage is 100% secure and we are unable to guarantee the absolute security of the Personal Information we have collected from you.",
        },
        { type: "h2", content: "TRACKING TECHNOLOGIES" },
        {
            type: "paragraph",
            content:
                "We use Cookies to enhance the performance and functionality of our website but are non-essential to their use. However, without these cookies, certain functionality like videos may become unavailable or you would be required to enter your login details every time you visit the website as we would not be able to remember that you had logged in previously.",
        },
        { type: "h2", content: "Changes To This Privacy Policy" },
        {
            type: "paragraph",
            content:
                "We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. Your continued use of the Service after we post any modifications to the Privacy Policy on this page will constitute your acknowledgment of the modifications and your consent to abide and be bound by the modified Privacy Policy.",
        },
        {
            type: "paragraph",
            content:
                "If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us or by placing a prominent notice on our website.",
        },
        { type: "h2", content: "Contact Us" },
        {
            type: "paragraph",
            content:
                "If you have any questions about this Privacy Policy, please contact us at @info.kanaknaturals",
        },
    ],
};
const titleList = richTextContent.sections.filter((item) => item.type == "h2");

console.log(richTextContent.sections);

function generateHtmlFromJson(jsonData) {
    let htmlString = "";

    function processElement(element) {
        switch (element.type) {
            case "h2":
                htmlString += `<h2 data-scrollTo=${encodeURI(element.content)} >${element.content}</h2>`;
                break;
            case "paragraph":
                htmlString += `<p>${element.content}</p>`;
                break;
            case "ul":
                htmlString += "<ul>";
                element.content.forEach((li) => {
                    htmlString += `<li>${li.content}</li>`;
                });
                htmlString += "</ul>";
                break;
            default:
                break;
        }
    }

    jsonData.forEach((el) => processElement(el));

    return htmlString;
}
---

<PolicyMain client:load title_list={titleList}>
    <Fragment
        set:html={generateHtmlFromJson(richTextContent.sections)}
        slot="content"
    />
</PolicyMain>
